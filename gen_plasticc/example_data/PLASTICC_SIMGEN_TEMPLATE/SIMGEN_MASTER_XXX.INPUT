#JOBNAME_SIM:  $SNANA_DEBUG/snana/bin/snlc_sim.exe

BATCH_INFO:  sbatch  $SBATCH_TEMPLATES/SBATCH_sandyb.TEMPLATE 40

BATCH_MEM: 2000  # need more memory for som SIMSED models
CONVERT_SIMGEN_DUMP:  HBOOK
PATH_SNDATA_SIM:  $SCRATCH_SIMDIR/CWP


# 91BG from S. Gonzalez-Gaitan and Felipe Lagos
#  (more templates than J17, and stretch-color correlation)
GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL41
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_91bg.INPUT
GENOPT: GENTYPE 41
GENOPT: SIMGEN_DUMP_PRESCALE 9
GENOPT: NGENTOT_LC XXXNGEN_IDEAL 
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# May 9 2018: Luis and David recommend removing this older 91bg model
# 91BG_J17 (4 templates from Jones 2017)
#GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL42
#GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_91bg_J17.INPUT
#GENOPT: GENTYPE 42
#GENOPT: SIMGEN_DUMP_PRESCALE 9
#GENOPT: NGENTOT_LC XXXNGEN_IDEAL

# Iax from Saurabh
GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL43
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_Iax.INPUT
GENOPT: GENTYPE 43
GENOPT: SIMGEN_DUMP_PRESCALE 49
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# Jul 27 2018: remove point Ia because most templates have very wierd light curves
#pointIa
#GENVERSION:  LSST_XXXSURVEY_MODEL45
#GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_pointIa.INPUT
#GENOPT: GENTYPE 45
#GENOPT: NGENTOT_LC XXXNGEN_IDEAL
#GENOPT: SEARCHEFF_SPEC_FILE  ZERO
#GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
#GENOPT: SEARCHEFF_SPEC_SCALE 0.1      WFD_SPEC_SCALE

# - - - - - -  GW counterpart models - - - - - - - 

# Kilonova from GW170817
#GENVERSION:  LSST_XXXSURVEY_MODEL50
#GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_KNova_GW170817.INPUT
#GENOPT: GENTYPE 50
#GENOPT: NGENTOT_LC XXXNGEN_IDEAL
#GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
#GENOPT: SEARCHEFF_SPEC_SCALE 0.7      WFD_SPEC_SCALE


# Kilonova models from Kasen 2017
GENVERSION:  LSST_XXXSURVEY_MODEL51
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_KNova_Kasen2017.INPUT
GENOPT: GENTYPE 51
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      WFD_SPEC_SCALE

# Kilonova models from Kasen 2017 + Gaussian priors
#GENVERSION:  LSST_XXXSURVEY_MODEL52
#GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_KNova_Kasen2017+priors#.INPUT
#GENOPT: GENTYPE 52
#GENOPT: NGENTOT_LC XXXNGEN_IDEAL

# - - - - - - - - - - - - - - - - - - - - - - - -
# Superluminous SN:  SLSN-I
GENVERSION:  LSST_XXXSURVEY_MODEL60
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_SLSN_MAGNETAR.INPUT
GENOPT: GENTYPE 60
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE


# pair instability SN: PISN
GENVERSION:  LSST_XXXSURVEY_MODEL61
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_PISN.INPUT
GENOPT: GENTYPE 61
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_FILE ZERO

# Intermediate Luminosity Optical Transients (ILOT)
GENVERSION:  LSST_XXXSURVEY_MODEL62
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_ILOT.INPUT
GENOPT: GENTYPE 62
GENOPT: SIMGEN_DUMP_PRESCALE 49
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_FILE ZERO

# Ca Rich Transients (CART)
GENVERSION:  LSST_XXXSURVEY_MODEL63
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_CART.INPUT
GENOPT: GENTYPE 63 
GENOPT: SIMGEN_DUMP_PRESCALE 49
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_FILE ZERO


# TDE
GENVERSION:  LSST_XXXSURVEY_MODEL64
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_TDE.INPUT
GENOPT: GENTYPE 64
GENOPT: SIMGEN_DUMP_PRESCALE 9
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
#GENOPT: SEARCHEFF_SPEC_FILE ZERO
GENOPT: SEARCHEFF_SPEC_SCALE 1.00  DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.20  WFD_SPEC_SCALE

# - - - - - AGN - - - - - - 
GENVERSION:  LSST_XXXSURVEY_MODEL70
GENOPT: INPUT_FILE_INCLUDE  $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_LSST-AGN.INPUT
GENOPT: GENTYPE 70   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_AGN
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# - -- - - - - - - - - - - - - - - - - - - - - -
# Galactic transients

GENVERSION:  LSST_XXXSURVEY_MODEL80
GENOPT: INPUT_FILE_INCLUDE  $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_RRLyrae.INPUT
GENOPT: GENTYPE 80   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_RRLYRAE
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 0.3      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.0008   WFD_SPEC_SCALE

GENVERSION:  LSST_XXXSURVEY_MODEL81
GENOPT: INPUT_FILE_INCLUDE  $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_Mdwarf_flares.INPUT
GENOPT: GENTYPE 81   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_MDWARF
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE


GENVERSION:  LSST_XXXSURVEY_MODEL83
GENOPT: INPUT_FILE_INCLUDE  $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_PHOEBE.INPUT
GENOPT: GENTYPE 83   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_PHOEBE
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

GENVERSION:  LSST_XXXSURVEY_MODEL84
GENOPT: INPUT_FILE_INCLUDE  $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_MIRA.INPUT
GENOPT: GENTYPE 84   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_MIRA
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 0.50      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.02      WFD_SPEC_SCALE


GENVERSION:  LSST_XXXSURVEY_MODEL90
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_uLens_CFA-Binary.INPUT
GENOPT: GENTYPE 90   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 9
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_ULENS90_CFA2
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_FILE ZERO

GENVERSION:  LSST_XXXSURVEY_MODEL91
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_uLens_GaiaStar.INPUT
GENOPT: GENTYPE 91 SIMLIB_NREPEAT 1
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_ULENS91_Gaia
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 0.5     DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.1     WFD_SPEC_SCALE


GENVERSION:  LSST_XXXSURVEY_MODEL92
GENOPT: INPUT_FILE_INCLUDE  $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_uLens_STRING.INPUT
GENOPT: GENTYPE 92
GENOPT: SIMGEN_DUMP_PRESCALE 1
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_ULENS92_STRING
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_FILE ZERO


GENVERSION:  LSST_XXXSURVEY_MODEL93
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_LCLIB_uLens_CFA-Point.INPUT
GENOPT: GENTYPE 93   SIMLIB_NREPEAT 1
GENOPT: SIMGEN_DUMP_PRESCALE 9
GENOPT: NGENTOT_LC XXXNGEN_LCLIB_ULENS93_CFA1
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 0.5     DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.1     WFD_SPEC_SCALE

# - - - - - -
# do the BIG Supernova jobs last so that we get the
# smaller samples quickly

# MOSFIT-IIn  (4->14 on May 9 2018)
GENVERSION:  LSST_XXXSURVEY_MODEL14
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_IIn.INPUT
GENOPT: GENTYPE 14  SIMLIB_NREPEAT 2
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# MOSFIT-Ibc (3->13 on May 9 2018)
GENVERSION:  LSST_XXXSURVEY_MODEL13
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_MOSFIT_Ibc.INPUT
GENOPT: GENTYPE 13   SIMLIB_NREPEAT 4
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# Core collapse Type II using pca (5->12 on May 9 2018)
# for end-of-challenge model release
GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL12
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_IIpca.INPUT
GENOPT: GENTYPE 12  SIMLIB_NREPEAT 4
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# - - - - - - - - - - - - - - - - - - - - - - - - - 
# legacy NON1ASED model based on 43 templates
# NON1ASED-II
# Core collapse Type II from K10 templates
GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL02
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_NON1ASED-II.INPUT
GENOPT: GENTYPE 2   SIMLIB_NREPEAT 4
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# NON1ASED-Ibc
# Core collapse Type Ibc from K10 templates
GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL03
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_NON1ASED-Ibc.INPUT
GENOPT: GENTYPE 3   SIMLIB_NREPEAT 4
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 1.0      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.008    WFD_SPEC_SCALE

# - - - - - - - - 
# Type Ia SN
GENVERSION: LSST_XXXSURVEY_XXXOPSIM_MODEL11
GENOPT: INPUT_FILE_INCLUDE $PLASTICC_ROOT/SIMGEN/SIMGEN_INCLUDE_SALT2.INPUT
GENOPT: GENTYPE 11
GENOPT: SIMGEN_DUMP_PRESCALE 99
GENOPT: NGENTOT_LC XXXNGEN_IDEAL
GENOPT: SEARCHEFF_SPEC_SCALE 0.5      DDF_SPEC_SCALE
GENOPT: SEARCHEFF_SPEC_SCALE 0.003    WFD_SPEC_SCALE

ENDLIST_GENVERSION:


GENOPT_GLOBAL: SIMLIB_FILE $LSST_ROOT/simlibs/minionv4_1016_XXXSURVEY.simlib.COADD SOLID_ANGLE XXXSOLIDANGLE  SEARCHEFF_zHOST_FILE $PLASTICC_ROOT/SIMGEN/SEARCHEFF_zHOST_PLASTICC_XXXSURVEY.DAT


# RESET_CIDOFF: 2  # flag to generate unique CID for each model

# specify sim-input files for snlc_sim.exe
SIMGEN_INFILE_NONIa:    XXX_SIMGEN_INFILE
NGEN_UNIT:  XXXUNIT   SURVEY  

# define required global items to ensure uniformity among all jobs
H0:  70
##ZRANGE:       0.011  1.4
GENPREFIX:    LSST_XXXSURVEY
FORMAT_MASK:  112     # 32=FITS, 16=RandomCID, 64=compact


# the same RANSEED-repeated means that each job has new seed,
# but that all jobs are re-combined as if only one job had run.
RANSEED_REPEAT: XXXNSPLIT  3773459

